<!DOCTYPE html>
<html>
<head>
    <title>Temperature Predictions</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <canvas id="PredictionsChart"></canvas>
    <select id="month" onchange="updateGraph(this.value)">
        <option value="1">January</option>
        <option value="2">February</option>
        <option value="3">March</option>
        <option value="4">April</option>
        <option value="5">May</option>
        <option value="6">June</option>
        <option value="7">July</option>
        <option value="8">August</option>
        <option value="9">September</option>
        <option value="10">October</option>
        <option value="11">November</option>
        <option value="12">December</option>
    </select>
    <script>
        var PredictionsChart;
        // document.addEventListener('DOMContentLoaded', function() {
            var ctx = document.getElementById('PredictionsChart').getContext('2d');
var PredictionsChart = new Chart(ctx, {
    type: 'bar', // or 'bar', depending on your needs
    data: {
        labels: [], // Empty for initialization
        datasets: [{
            label: 'Temperature',
            data: [], // Empty for initialization
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            borderColor: 'rgba(255, 99, 132, 1)',
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});

function updateGraph(selectedMonth) {
    fetch(`/temperature-predictions/${selectedMonth}`)
        .then(response => response.json())
        .then(data => {
            PredictionsChart.data.labels = ['Month ' + data.month];
            PredictionsChart.data.datasets.forEach((dataset) => {
                dataset.data = [data.temperature];
            });
            PredictionsChart.update();
        });
}
    </script>
</body>
</html>
